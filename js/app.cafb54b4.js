(function(){"use strict";var e={802:function(e,t,n){var o=n(9242),r=n(3396);function l(e,t,n,o,l,i){const a=(0,r.up)("Homepage");return(0,r.wg)(),(0,r.j4)(a)}var i=n(7139);const a=e=>((0,r.dD)("data-v-b6576802"),e=e(),(0,r.Cn)(),e),c=a((()=>(0,r._)("div",{id:"map"},null,-1))),u={id:"panel"},s=a((()=>(0,r._)("br",null,null,-1))),d=a((()=>(0,r._)("br",null,null,-1))),g=a((()=>(0,r._)("br",null,null,-1))),m=a((()=>(0,r._)("br",null,null,-1))),p=a((()=>(0,r._)("br",null,null,-1))),w=a((()=>(0,r._)("div",{id:"crosshair"},"✛",-1)));function v(e,t,n,o,l,a){const v=(0,r.up)("LayerPanel");return(0,r.wg)(),(0,r.iD)(r.HY,null,[c,(0,r._)("div",u,[(0,r.Uk)(" 坐标系："+(0,i.zw)(o.proj),1),s,(0,r.Uk)(" 坐标： "+(0,i.zw)(o.locationCoord)+" ",1),d,(0,r.Uk)("准心："+(0,i.zw)(o.crosshairPoi),1),g,(0,r.Uk)("精度： "+(0,i.zw)(o.accuracy),1),m,(0,r.Uk)("海拔："+(0,i.zw)(o.altitude)+" ",1),p,(0,r.Uk)("方位角："+(0,i.zw)(o.heading),1)]),w,((0,r.wg)(),(0,r.j4)(r.Ob,null,[(0,r.Wm)(v)],1024))],64)}var f=n(4870),h=(n(1827),n(3203)),b=n(7793),Z=n(9345),y=n(5028),C=n(4109),k=n(1505),P=n(3886),j=n(4711),_=n(1673),V=n(8537),H=n(6525),L=n(2567),O=n(8406);class x extends O.Z{constructor(e){const t=e||{},n=document.createElement("button"),o=document.createElement("div");o.title=t.title,o.appendChild(n),o.className="ol-zoom-extent-custom ol-unselectable ol-control",super({element:o,target:t.target}),n.addEventListener("click",(()=>{let e=this.getMap().getView();e.animate({center:e.getProperties().defaultCenter,zoom:e.getMinZoom(),duration:250})}))}}class z extends O.Z{constructor(e){const t=e||{},n=document.createElement("button"),o=document.createElement("div");o.title=t.title,o.appendChild(n),o.className="ol-grid-custom ol-unselectable ol-control",super({element:o,target:t.target}),n.addEventListener("click",(()=>{let e=t.layer;e.getVisible()?e.setVisible(!1):e.setVisible(!0)}))}}class E extends O.Z{constructor(e){const t=e||{},n=document.createElement("button"),o=document.createElement("div");o.title=t.title,o.appendChild(n),o.className="ol-location-custom ol-unselectable ol-control",super({element:o,target:t.target});let r=t.geolocation;n.addEventListener("click",(()=>{let e=r.getPosition();void 0!==e&&this.getMap().getView().animate({center:e,zoom:15,duration:3e3})}))}}function S(e,t,n,l,a,c){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{class:"ol-layer-custom",title:"图层",onClick:t[0]||(t[0]=(...e)=>l.toggle&&l.toggle(...e))}),(0,r.wy)((0,r._)("div",{id:"mask",onClick:t[1]||(t[1]=(...e)=>l.toggle&&l.toggle(...e))},null,512),[[o.F8,l.isShow]]),(0,r._)("div",{id:"LayerPanel",class:(0,i.C_)([l.isShow?"LayerPanel-show":"LayerPanel-hide"])},null,2)],64)}var A={name:"LayerPanel",setup(){let e=(0,f.iH)(!1);function t(){e.value=!e.value}return{isShow:e,toggle:t}}},U=n(89);const G=(0,U.Z)(A,[["render",S],["__scopeId","data-v-70c4fa7e"]]);var M=G,D=n(1317),I=n(1508),T=n(2949),q=n(9966),N=n(7339),F=n(7712),Y=n(2205),B=n(6241),Q=n(3292),R={name:"Homepage",components:{LayerPanel:M},setup(){let e=new k.Z({key:"Q57tupj2UBsQNQdju4xL~xBceblfTd6icjljunbuaCw~AhwA-whmGMsfIpVhslZyknWhFYq-GvWJZqBnqV8Zq1uRlI5YM_qr7_hxvdgnU7nH",imagerySet:"Aerial"});const t=new Z.Z({strokeStyle:new q.Z({color:"rgba(191,182,182,0.5)",width:2,lineDash:[.5,4]}),showLabels:!0}),n=new y.Z;let o=new h.Z({controls:(0,P.c)({rotate:!1,zoom:!1,attribution:!1}),interactions:(0,H.c)({pinchRotate:!1}),layers:[new C.Z({source:e}),t,n],view:new b.ZP({center:[0,0],zoom:4,minZoom:4,maxZoom:19,projection:"EPSG:4326"})}),l=(0,f.iH)(""),i=(0,f.iH)(""),a=(0,f.iH)(""),c=(0,f.iH)(""),u=(0,f.iH)(""),s=(0,f.iH)("");return(0,r.bv)((()=>{o.setTarget("map"),l.value=o.getView().getProjection().getCode(),o.addControl(new j.Z({zoomInTipLabel:"放大",zoomOutTipLabel:"缩小"})),o.addControl(new _.Z),o.addControl(new V.Z({className:"ol-mousePosition-custom",projection:o.getView().getProjection(),placeholder:"未知",coordinateFormat:e=>(0,L.V7)(e)})),o.addControl(new x({title:"复位"})),o.addControl(new z({title:"经纬网",layer:t})),s.value=(0,L.V7)(o.getView().getCenter(),4);const e=new D.Z({projection:o.getView().getProjection(),tracking:!0,trackingOptions:{enableHighAccuracy:!0}});let r=new I.Z,d=new N.Z({fill:new F.Z({color:"#3399CC"}),points:3,radius:5,displacement:[0,0],rotation:0,angle:0});r.setStyle([new Y.ZP({image:new B.Z({radius:6,fill:new F.Z({color:"#3399CC"}),stroke:new q.Z({color:"#fff",width:2})})}),new Y.ZP({image:d})]);let g=new I.Z;n.setSource(new Q.Z({features:[g,r]})),o.once("loadend",(function(){let t=o.getView(),n=e.getPosition();void 0!==n&&(t.setCenter(n),t.setZoom(15),t.setProperties({defaultCenter:n}))})),e.on("change",(function(){let t=e.getPosition();i.value=(0,L.V7)(t,4);let n=e.getAltitude();c.value=void 0!==n?`${n.toString()}m`:"",r.setGeometry(t?new T.Z(t):null)})),e.on("change:accuracyGeometry",(function(){g.setGeometry(e.getAccuracyGeometry()),a.value=`${e.getAccuracy().toString()}m`})),o.getView().on("change:center",(function(){s.value=(0,L.V7)(this.getCenter(),4)})),window.addEventListener("deviceorientationabsolute",(function(e){let t=e.webkitCompassHeading||e.alpha;d.setRotation(Math.PI/180*(360-t)),null===t||!1===e.absolute?(d.setDisplacement([0,0]),u.value=""):(d.setDisplacement([0,10]),u.value=360-t+"°"),r.changed()})),o.addControl(new E({title:"定位",geolocation:e}))})),{proj:l,locationCoord:i,accuracy:a,altitude:c,heading:u,crosshairPoi:s}}};const W=(0,U.Z)(R,[["render",v],["__scopeId","data-v-b6576802"]]);var $=W,J={name:"App",components:{Homepage:$}};const K=(0,U.Z)(J,[["render",l]]);var X=K;(0,o.ri)(X).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,l){if(!o){var i=1/0;for(s=0;s<e.length;s++){o=e[s][0],r=e[s][1],l=e[s][2];for(var a=!0,c=0;c<o.length;c++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(a=!1,l<i&&(i=l));if(a){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[o,r,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,l,i=o[0],a=o[1],c=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var s=c(n)}for(t&&t(o);u<i.length;u++)l=i[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(s)},o=self["webpackChunknavmap"]=self["webpackChunknavmap"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(802)}));o=n.O(o)})();
//# sourceMappingURL=app.cafb54b4.js.map