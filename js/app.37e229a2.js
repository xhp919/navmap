(function(){"use strict";var e={449:function(e,t,n){var o=n(9242),l=n(3396);function r(e,t,n,o,r,i){const a=(0,l.up)("Homepage");return(0,l.wg)(),(0,l.j4)(a)}var i=n(4993),a=(n(1758),n(834),n(4874),n(6009),n(7139));const c={id:"titleBar"};function u(e,t,n,r,u,s){const d=i.Df,g=i.o2,m=i.YK;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:"ol-layer-custom",title:"图层",onClick:t[0]||(t[0]=(...e)=>r.toggle&&r.toggle(...e))}),(0,l.wy)((0,l._)("div",{id:"mask",onClick:t[1]||(t[1]=(...e)=>r.toggle&&r.toggle(...e))},null,512),[[o.F8,r.isShow]]),(0,l._)("div",{id:"LayerPanel",class:(0,a.C_)([r.isShow?"LayerPanel-show":"LayerPanel-hide"])},[(0,l._)("div",c,[(0,l.Wm)(m,{"split-button":""},{dropdown:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)("本地文件")])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)("URL-XYZ")])),_:1})])),_:1})])),default:(0,l.w5)((()=>[(0,l.Uk)("添加图层")])),_:1})])],2)],64)}var s=n(4870),d={name:"LayerPanel",setup(){let e=(0,s.iH)(!1);function t(){e.value=!e.value}return{isShow:e,toggle:t}}},g=n(89);const m=(0,g.Z)(d,[["render",u],["__scopeId","data-v-563af245"]]);var w=m;const p=e=>((0,l.dD)("data-v-325197b1"),e=e(),(0,l.Cn)(),e),f=p((()=>(0,l._)("div",{id:"map"},null,-1))),v={id:"panel"},h=p((()=>(0,l._)("br",null,null,-1))),b=p((()=>(0,l._)("br",null,null,-1))),Z=p((()=>(0,l._)("br",null,null,-1))),y=p((()=>(0,l._)("br",null,null,-1))),C=p((()=>(0,l._)("br",null,null,-1))),k=p((()=>(0,l._)("div",{id:"crosshair"},null,-1)));function _(e,t,n,o,r,i){const c=w;return(0,l.wg)(),(0,l.iD)(l.HY,null,[f,(0,l._)("div",v,[(0,l.Uk)(" 坐标系："+(0,a.zw)(o.proj),1),h,(0,l.Uk)(" 坐标："+(0,a.zw)(o.locationCoord),1),b,(0,l.Uk)("准心："+(0,a.zw)(o.crosshairPoi),1),Z,(0,l.Uk)("精度："+(0,a.zw)(o.accuracy),1),y,(0,l.Uk)("海拔："+(0,a.zw)(o.altitude),1),C,(0,l.Uk)("方位角："+(0,a.zw)(o.heading),1)]),k,((0,l.wg)(),(0,l.j4)(l.Ob,null,[(0,l.Wm)(c)],1024))],64)}n(1827);var P=n(3203),j=n(7793),V=n(9345),H=n(5028),L=n(4109),O=n(1505),x=n(3886),z=n(4711),U=n(1673),E=n(8537),S=n(6525),A=n(2567),D=n(8406);class M extends D.Z{constructor(e){const t=e||{},n=document.createElement("button"),o=document.createElement("div");o.title=t.title,o.appendChild(n),o.className="ol-zoom-extent-custom ol-unselectable ol-control",super({element:o,target:t.target}),n.addEventListener("click",(()=>{let e=this.getMap().getView();e.animate({center:e.getProperties().defaultCenter,zoom:e.getMinZoom(),duration:250})}))}}class W extends D.Z{constructor(e){const t=e||{},n=document.createElement("button"),o=document.createElement("div");o.title=t.title,o.appendChild(n),o.className="ol-grid-custom ol-unselectable ol-control",super({element:o,target:t.target}),n.addEventListener("click",(()=>{let e=t.layer;e.getVisible()?e.setVisible(!1):e.setVisible(!0)}))}}class G extends D.Z{constructor(e){const t=e||{},n=document.createElement("button"),o=document.createElement("div");o.title=t.title,o.appendChild(n),o.className="ol-location-custom ol-unselectable ol-control",super({element:o,target:t.target});let l=t.geolocation;n.addEventListener("click",(()=>{let e=l.getPosition(),t=this.getMap().getView(),n=t.getZoom();void 0!==e&&t.animate({center:e,zoom:n>15?n:15,duration:3e3})}))}}var I=n(1317),T=n(1508),Y=n(2949),q=n(9966),N=n(7339),B=n(7712),F=n(2205),R=n(6241),Q=n(3292),$={name:"Homepage",components:{LayerPanel:w},setup(){let e=new O.Z({key:"Q57tupj2UBsQNQdju4xL~xBceblfTd6icjljunbuaCw~AhwA-whmGMsfIpVhslZyknWhFYq-GvWJZqBnqV8Zq1uRlI5YM_qr7_hxvdgnU7nH",imagerySet:"Aerial"});const t=new V.Z({strokeStyle:new q.Z({color:"rgba(191,182,182,0.5)",width:2,lineDash:[.5,4]}),showLabels:!0}),n=new H.Z;let o=new P.Z({controls:(0,x.c)({rotate:!1,zoom:!1,attribution:!1}),interactions:(0,S.c)({pinchRotate:!1}),layers:[new L.Z({source:e}),t,n],view:new j.ZP({center:[0,0],zoom:4,minZoom:4,maxZoom:19})}),r=(0,s.iH)(""),i=(0,s.iH)(""),a=(0,s.iH)(""),c=(0,s.iH)(""),u=(0,s.iH)(""),d=(0,s.iH)("");return(0,l.bv)((()=>{o.setTarget("map"),r.value=o.getView().getProjection().getCode(),o.addControl(new z.Z({zoomInTipLabel:"放大",zoomOutTipLabel:"缩小"})),o.addControl(new U.Z),o.addControl(new E.Z({className:"ol-mousePosition-custom",projection:o.getView().getProjection(),placeholder:"未知",coordinateFormat:e=>(0,A.V7)(e)})),o.addControl(new M({title:"复位"})),o.addControl(new W({title:"经纬网",layer:t})),d.value=(0,A.V7)(o.getView().getCenter(),4);const e=new I.Z({projection:o.getView().getProjection(),tracking:!0,trackingOptions:{enableHighAccuracy:!0}});let l=new T.Z,s=new N.Z({fill:new B.Z({color:"#3399CC"}),points:3,radius:5,displacement:[0,0],rotation:0,angle:0});l.setStyle([new F.ZP({image:new R.Z({radius:6,fill:new B.Z({color:"#3399CC"}),stroke:new q.Z({color:"#fff",width:2})})}),new F.ZP({image:s})]);let g=new T.Z;n.setSource(new Q.Z({features:[g,l]})),o.once("loadend",(function(){let t=o.getView(),n=e.getPosition();void 0!==n&&(t.setCenter(n),t.setZoom(15),t.setProperties({defaultCenter:n}))})),e.on("change",(function(){let t=e.getPosition();i.value=(0,A.V7)(t,4);let n=e.getAltitude();c.value=void 0!==n?`${n.toString()}m`:"",l.setGeometry(t?new Y.Z(t):null)})),e.on("change:accuracyGeometry",(function(){g.setGeometry(e.getAccuracyGeometry()),a.value=`${e.getAccuracy().toString()}m`})),o.getView().on("change:center",(function(){d.value=(0,A.V7)(this.getCenter(),4)})),window.addEventListener("deviceorientationabsolute",(function(e){let t=e.webkitCompassHeading||e.alpha;s.setRotation(Math.PI/180*(360-t)),null===t||!1===e.absolute?(s.setDisplacement([0,0]),u.value=""):(s.setDisplacement([0,10]),u.value=360-t+"°"),l.changed()})),o.addControl(new G({title:"定位",geolocation:e}))})),{proj:r,locationCoord:i,accuracy:a,altitude:c,heading:u,crosshairPoi:d}}};const J=(0,g.Z)($,[["render",_],["__scopeId","data-v-325197b1"]]);var K=J,X={name:"App",components:{Homepage:K}};const ee=(0,g.Z)(X,[["render",r]]);var te=ee;(0,o.ri)(te).mount("#app")}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,l,r){if(!o){var i=1/0;for(s=0;s<e.length;s++){o=e[s][0],l=e[s][1],r=e[s][2];for(var a=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(a=!1,r<i&&(i=r));if(a){e.splice(s--,1);var u=l();void 0!==u&&(t=u)}}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[o,l,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,r,i=o[0],a=o[1],c=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(c)var s=c(n)}for(t&&t(o);u<i.length;u++)r=i[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(s)},o=self["webpackChunknavmap"]=self["webpackChunknavmap"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(449)}));o=n.O(o)})();
//# sourceMappingURL=app.37e229a2.js.map